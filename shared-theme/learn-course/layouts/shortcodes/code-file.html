{{/* Code File Shortcode - Code block with filename header
    Usage: {{< code-file filename="example.py" lang="python" >}}
    print("Hello, World!")
    {{< /code-file >}}
*/}}
{{ $filename := .Get "filename" | default "code" }}
{{ $lang := .Get "lang" | default "text" }}

<div class="code-file">
  <div class="code-file-header">
    <span class="code-file-name">
      <svg class="code-file-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
      </svg>
      {{ $filename }}
    </span>
    <button class="code-file-copy" aria-label="Copy code">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  {{ highlight (trim .Inner "\n") $lang "" }}
</div>
